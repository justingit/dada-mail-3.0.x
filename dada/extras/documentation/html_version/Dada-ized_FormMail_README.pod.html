<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Dada-ized FormMail</title>
<link rel="stylesheet" href="/Users/justin/Documents/DadaMail/build/tmp/dada/extras/documentation/pod_source/pod_styles.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@omen.apple.com" />
</head>

<body>

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name_dadaized_formmail">NAME DADA-ized FormMail</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#original_source">ORIGINAL SOURCE</a></li>
	<li><a href="#obtaining_dadaized_formmail">OBTAINING Dada-ized FormMail</a></li>
	<li><a href="#copyright">COPYRIGHT</a></li>
	<li><a href="#license">LICENSE</a></li>
	<li><a href="#url">URL</a></li>
	<li><a href="#summary">SUMMARY</a></li>
	<li><a href="#files">FILES</a></li>
	<li><a href="#configuration">CONFIGURATION</a></li>
	<ul>

		<li><a href="#_debugging">$DEBUGGING</a></li>
		<li><a href="#_emulate_matts_code">$emulate_matts_code</a></li>
		<li><a href="#_secure">$secure</a></li>
		<li><a href="#_allow_empty_ref">$allow_empty_ref</a></li>
		<li><a href="#_max_recipients">$max_recipients</a></li>
		<li><a href="#_mailprog">$mailprog</a></li>
		<li><a href="#_postmaster">$postmaster</a></li>
		<li><a href="#_referers">@referers</a></li>
		<li><a href="#_allow_mail_to">@allow_mail_to</a></li>
		<li><a href="#_recipients">@recipients</a></li>
		<li><a href="#_recipient_alias">%recipient_alias</a></li>
		<li><a href="#_valid_env">@valid_ENV</a></li>
		<li><a href="#_locale">$locale</a></li>
		<li><a href="#_charset">$charset</a></li>
		<li><a href="#_date_fmt">$date_fmt</a></li>
		<li><a href="#_style">$style</a></li>
		<li><a href="#_no_content">$no_content</a></li>
		<li><a href="#_double_spacing">$double_spacing</a></li>
		<li><a href="#_wrap_text">$wrap_text</a></li>
		<li><a href="#_wrap_style">$wrap_style</a></li>
		<li><a href="#_address_style">$address_style</a></li>
		<li><a href="#_send_confirmation_mail">$send_confirmation_mail</a></li>
		<li><a href="#_confirmation_text">$confirmation_text</a></li>
	</ul>

	<li><a href="#installation">INSTALLATION</a></li>
	<li><a href="#form_configuration">FORM CONFIGURATION</a></li>
	<ul>

		<li><a href="#recipient">recipient</a></li>
		<li><a href="#subject">subject</a></li>
		<li><a href="#redirect">redirect</a></li>
		<li><a href="#bgcolor">bgcolor</a></li>
		<li><a href="#background">background</a></li>
		<li><a href="#text_color">text_color</a></li>
		<li><a href="#link_color">link_color</a></li>
		<li><a href="#vlink_color">vlink_color</a></li>
		<li><a href="#alink_color">alink_color</a></li>
		<li><a href="#title">title</a></li>
		<li><a href="#return_link_url">return_link_url</a></li>
		<li><a href="#return_link_title">return_link_title</a></li>
		<li><a href="#sort">sort</a></li>
		<li><a href="#print_config">print_config</a></li>
		<li><a href="#required">required</a></li>
		<li><a href="#missing_fields_redirect">missing_fields_redirect</a></li>
		<li><a href="#env_report">env_report</a></li>
		<li><a href="#print_blank_fields">print_blank_fields</a></li>
		<li><a href="#email">email</a></li>
		<li><a href="#realname">realname</a></li>
	</ul>

	<li><a href="#dadaized_specific_form_configuration">Dada-ized Specific FORM CONFIGURATION</a></li>
	<ul>

		<li><a href="#email">email</a></li>
		<li><a href="#dada_mail_list">dada_mail_list</a></li>
		<li><a href="#dada_mail_subscribe_email">dada_mail_subscribe_email</a></li>
		<li><a href="#dada_mail_confirm_email">dada_mail_confirm_email</a></li>
	</ul>

	<li><a href="#common_problems">COMMON PROBLEMS</a></li>
	<ul>

		<li><a href="#confusion_over_the_qw_operator">Confusion over the qw operator</a></li>
		<li><a href="#sendmail_switches_removed">Sendmail switches removed</a></li>
	</ul>

	<li><a href="#support">SUPPORT</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<hr />
<h1><a name="name_dadaized_formmail">NAME DADA-ized FormMail</a></h1>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>The Dada-ized FormMail is a copy of the FormMail.pl script distributed by the London Perl Mongers which has been tweaked to allow interaction between Dada Mail and FormMail.pl. Basically, this allows this FormMail.pl script to subscribe, or send a confirmation email to the address passed in the form itself.</p>
<p>The below is the original documentation from the FormMail.pl, with additions to allow it to interact with Dada Mail. Dada Mail interaction is optional.</p>
<p>
</p>
<hr />
<h1><a name="original_source">ORIGINAL SOURCE</a></h1>
<p>This copy of the Dada-ized FormMail is based on NMS FormMail Version 3.14c1, which may be downloaded at:</p>
<p><a href="http://nms-cgi.sourceforge.net/formmail_compat-3.14c1.tar.gz">http://nms-cgi.sourceforge.net/formmail_compat-3.14c1.tar.gz</a></p>
<p>
</p>
<hr />
<h1><a name="obtaining_dadaized_formmail">OBTAINING Dada-ized FormMail</a></h1>
<p>Dada-ized FormMail is located in the, <em>dada/extensions/FormMail</em> directory of the main Dada Mail distribution, under the name, <strong>FormMail.pl</strong></p>
<p>
</p>
<hr />
<h1><a name="copyright">COPYRIGHT</a></h1>
<p>FormMail Version 3.14c1
Copyright 2001-2003 London Perl Mongers, All rights reserved</p>
<p>
</p>
<hr />
<h1><a name="license">LICENSE</a></h1>
<p>This script is free software; you are free to redistribute it
and/or modify it under the same terms as Perl itself.</p>
<p>
</p>
<hr />
<h1><a name="url">URL</a></h1>
<p>The most up to date version of this script is available from the nms
script archive at  &lt;http://nms-cgi.sourceforge.net/&gt;</p>
<p>
</p>
<hr />
<h1><a name="summary">SUMMARY</a></h1>
<p>formmail is a script which allows you to receive the results of an
HTML form submission via an email message.</p>
<p>
</p>
<hr />
<h1><a name="files">FILES</a></h1>
<p>In this distribution, you will find the following files:</p>
<dl>
<dt><strong><a name="item_formmail_2epl">FormMail.pl</a></strong>

<dd>
<p>The main Perl script</p>
</dd>
</li>
<dt><strong><a name="item_readme">README</a></strong>

<dd>
<p>The original README file. Instructions on how to install and use the *Original* NMS formmail</p>
</dd>
</li>
<dt><strong><a name="item_examples">EXAMPLES</a></strong>

<dd>
<p>Some worked examples of ways to set up formmail</p>
</dd>
</li>
<dt><strong><a name="item_changelog">ChangeLog</a></strong>

<dd>
<p>The change history of these files</p>
</dd>
</li>
<dt><strong><a name="item_manifest">MANIFEST</a></strong>

<dd>
<p>List of files</p>
</dd>
</li>
<li><strong><a name="item_dada_2dized_formmail_readme_2epod">Dada-ized_FormMail_README.pod</a></strong>

<p>The Dada-ized FormMail README. Instructions on how to install the Dada-ized FroMMail.</p>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="configuration">CONFIGURATION</a></h1>
<p>There are a number of variables that you can change in FormMail.pl which
alter the way that the program works.</p>
<p>
</p>
<h2><a name="_debugging">$DEBUGGING</a></h2>
<p>This should be set to 1 whilst you are installing
and testing the script. Once the script is live you
should change it to 0. When set to 1, errors will
be output to the browser. This is a security risk and
should not be used when the script is live.</p>
<p>
</p>
<h2><a name="_emulate_matts_code">$emulate_matts_code</a></h2>
<p>When this variable is set to a true value (e.g. 1)
formmail will work in exactly the same way as its
counterpart at Matt's Script Archive. If it is set
to a false value (e.g. 0) then more advanced features
are switched on. We do not recommend changing this
variable to 1, as the resulting drop in security
may leave your formmail open to use as a SPAM relay.</p>
<p>
</p>
<h2><a name="_secure">$secure</a></h2>
<p>When this variable is set to a true value (e.g. 1)
many additional security features are turned on.  We
do not recommend changing this variable to 0, as the
resulting drop in security may leave your formmail
open to use as a SPAM relay.</p>
<p>
</p>
<h2><a name="_allow_empty_ref">$allow_empty_ref</a></h2>
<p>Some web proxies and office firewalls may strip
certain headers from the HTTP request that is sent
by a browser.  Among these is the HTTP_REFERER that
the program uses as an additional check of the
requests validity - this will cause the program to
fail with a 'bad referer' message even though the
configuration seems fine.  In these cases setting
this variable to 1 will stop the program from
complaining about requests where no referer header
was sent while leaving the rest of the security
features intact.</p>
<p>
</p>
<h2><a name="_max_recipients">$max_recipients</a></h2>
<p>The maximum number of e-mail addresses that any
single form should be allowed to send copies of the
e-mail to.  If none of your forms send e-mail to more
than one recipient, then we recommend that you
improve the security of FormMail by reducing this
value to 1.  Setting this variable to 0 removes all
limits on the number of recipients of each e-mail.</p>
<p>
</p>
<h2><a name="_mailprog">$mailprog</a></h2>
<p>The system command that the script should invoke to
send an outgoing email. This should be the full path
to a program that will read a message from STDIN and
determine the list of message recipients from the
message headers. Any switches that the program
requires should be provided here.</p>
<p>A $mailprog setting that works for many UNIX-like
hosts is:</p>
<pre>
 $mailprog = '/usr/lib/sendmail -oi -t';</pre>
<p>Some other UNIX-like hosts need:</p>
<pre>
 $mailprog = '/usr/sbin/sendmail -oi -t';</pre>
<p>If your web server lacks a sendmail binary, you can
use an SMTP relay instead, by setting $mailprog like
this:</p>
<p>$mailprog = 'SMTP:mailhost.your.domain';</p>
<p>You will need to replace mailhost.your.domain with
the name or IP address of an SMTP server configured
to relay mail for the web server.</p>
<p>Your system administrator or hosting provider should
be able to tell you either the path to sendmail on the
web server or the name of a host that will act as an
SMTP relay for the web server.</p>
<p>
</p>
<h2><a name="_postmaster">$postmaster</a></h2>
<p>The envelope sender address to use for all emails
sent by the script.  This address will recieve bounce
messages if any of the emails cannot be delivered.  If
in doubt, put your own email address here.</p>
<p>
</p>
<h2><a name="_referers">@referers</a></h2>
<p>A list of referring hosts. This should be a list of
the names or IP addresses of all the systems that
will host HTML forms that refer to this formmail
script. Only these hosts will be allowed to use the
formmail script. This can be used to prevent others
from linking to FormMail.pl from their own HTML forms.</p>
<p>If you wish to turn off referer checking so that forms
that use this FormMail.pl can reside on any web server
then make this array empty, like this:</p>
<pre>
 @referers = ();</pre>
<p>
</p>
<h2><a name="_allow_mail_to">@allow_mail_to</a></h2>
<p>A list of the email addresses that formmail can send
email to. The elements of this list can be either
simple email addresses (like <a href="mailto:'you@your.domain')">'you@your.domain')</a> or
domain names (like 'your.domain'). If it's a domain
name then *any* address at the domain will be allowed.</p>
<p>Example: to allow mail to be sent to <a href="mailto:'you@your.domain'">'you@your.domain'</a>
or any address at the host 'mail.your.domain', you
would set:</p>
<pre>
 @allow_mail_to = qw(you@your.domain mail.your.domain);</pre>
<p>
</p>
<h2><a name="_recipients">@recipients</a></h2>
<p>A list of Perl regular expression patterns that
determine who the script will allow mail to be sent
to in addition to those set in @allow_mail_to. This is
present only for compatibility with the original
formmail script.  We strongly advise against having
anything in @recipients as it's easy to make a mistake
with the regular expression syntax and turn your
formmail into an open SPAM relay.</p>
<p>There is an implicit $ at the end of the regular
expression, but you need to include the ^ if you want
it anchored at the start.  Note also that since '.' is
a regular expression metacharacter, you'll need to
escape it before using it in domain names.</p>
<p>If that last paragraph makes no sense to you then
please don't put anything in @recipients, stick to
using the less error prone @allow_mail_to.</p>
<p>
</p>
<h2><a name="_recipient_alias">%recipient_alias</a></h2>
<p>A hash for predefining a list of recipients in the
script, and then choosing between them using the
recipient form field, while keeping all the email
addresses out of the HTML so that they don't get
collected by address harvesters and sent junk email.</p>
<p>For example, suppose you have three forms on your
site, and you want each to submit to a different email
address and you want to keep the addresses hidden.
You might set up %recipient_alias like this:</p>
<pre>
 %recipient_alias = (
 '1' =&gt; 'one@your.domain',
 '2' =&gt; 'two@your.domain',
 '3' =&gt; 'three@your.domain',
 );</pre>
<p>In the HTML form that should submit to the recipient
<a href="mailto:'two@your.domain',">'two@your.domain',</a> you would then set the recipient
with:</p>
<pre>
 &lt;input type=&quot;hidden&quot; name=&quot;recipient&quot; value=&quot;2&quot; /&gt;</pre>
<p>The recipients in %recipient_alias are automatically added
to the allowed recipients list, so there's no need to list
them all in @allow_mail_to as well.</p>
<p>
</p>
<h2><a name="_valid_env">@valid_ENV</a></h2>
<p>A list of all the environment variables that you want
to be able to include in the email. See 'env_report' below.</p>
<p>
</p>
<h2><a name="_locale">$locale</a></h2>
<p>This determines the language that is used in the date - by
default this is blank and the language will probably be
english. The following a list of some possible values,
however it should be stressed that not all of these will
be supported on all systems and also this is not a complete
list:
</p>
<pre>

    Catalan           ca_ES
    Croatian          hr_HR
    Czech             cs_CZ
    Danish            da_DK
    Dutc              nl_NL
    Estonian          et_EE
    Finnish           fi_FI
    French            fr_FR
    Galician          gl_ES
    German            de_DE
    Greek             el_GR
    Hebrew            he_IL
    Hungarian         hu_HU
    Icelandic         is_IS
    Italian           it_IT
    Japanese          ja_JP
    Korean            ko_KR
    Lithuanian        lt_LT
    Norwegian         no_NO
    Polish            pl_PL
    Portuguese        pt_PT
    Romanian          ro_RO
    Russian           ru_RU
    Slovak            sk_SK
    Slovenian         sl_SI
    Spanish           es_ES
    Swedish           sv_SE
    Thai              th_TH
    Turkish           tr_TR</pre>
<p>
</p>
<h2><a name="_charset">$charset</a></h2>
<p>The character set to use for output documents.</p>
<p>
</p>
<h2><a name="_date_fmt">$date_fmt</a></h2>
<p>The format that the date will be displayed in. This
is a string that contains a number of different 'tags'.
Each tag consists of a % character followed by a letter.
Each tag represents one way of displaying a particular
part of the date or time. Here are some common tags:</p>
<pre>
    %Y - four digit year (2002)
    %y - two digit year (02)
    %m - month of the year (01 to 12)
    %b - short month name (Jan to Dec)
    %B - long month name (January to December)
    %d - day of the month (01 to 31)
    %a - short day name (Sun to Sat)
    %A - long day name (Sunday to Saturday)
    %H - hour in 24 hour clock (00 to 23)
    %I - hour in 12 hour clock (01 to 12)
    %p - AM or PM
    %M - minutes (00 to 59)
    %S - seconds (00 to 59)
    %Z - the name of the local timezone</pre>
<p>
</p>
<h2><a name="_style">$style</a></h2>
<p>This is the URL of a CSS stylesheet which will be
used for script generated messages.  This should
probably be the same as the one that you use for all
the other pages.  This should be a local absolute URI
fragment.  Set $style to '0' or the emtpy string if
you don't want to use style sheets.</p>
<p>
</p>
<h2><a name="_no_content">$no_content</a></h2>
<p>If this is set to 1 then rather than returning the
HTML confirmation page or doing a redirect the script
will output a header that indicates that no content
will be returned and that the submitted form should
not be replaced.  This should be used carefully as an
unwitting visitor may click the submit button several
times thinking that nothing has happened.</p>
<p>
</p>
<h2><a name="_double_spacing">$double_spacing</a></h2>
<p>If this is set to 1 (as it is by default) then a blank
line is printed after each form value in the e-mail.
Change this value to 0 if you want the e-mail to be
more compact.</p>
<p>
</p>
<h2><a name="_wrap_text">$wrap_text</a></h2>
<p>If this is set to 1 then the content of any long text
fields will be wrapped at around 72 columns in the
e-mail which is sent.  The way that this is done is
controlled by the variable $wrap_style</p>
<p>
</p>
<h2><a name="_wrap_style">$wrap_style</a></h2>
<p>If $wrap_text is set to 1  then
the text will be wrapped in such a way that the left
margin of the text is lined up with the beginning of the
text after the description of the field - that is to
say it is indented by the length of the field name
plus 2.  If it is set to 2 then the subsequent lines
of the text will not be indented at all and will be
flush with the start of the lines.  The choice of style
is really a matter of taste although you might find
that style 1 does not work particularly well if your
e-mail client uses a proportional font where the spaces
of the indent might be smaller than the characters in
the field name.</p>
<p>
</p>
<h2><a name="_address_style">$address_style</a></h2>
<p>If this is set to 0 ( or if $emulate_matts_code is set
to 1 ) then the address constructed for the person
filling in the form will be of the format 
``$email ($realname)''.  If it is set to 1 then the format
will be ``$realname &lt;$email&gt;''.</p>
<p>
</p>
<h2><a name="_send_confirmation_mail">$send_confirmation_mail</a></h2>
<p>If this flag is set to 1 then an additional email
will be sent to the person who submitted the
form.</p>
<p>CAUTION: with this feature turned on it's
possible for someone to put someone else's email
address in the form and submit it 5000 times,
causing this script to send a flood of email to a
third party.  This third party is likely to blame
you for the email flood attack.</p>
<p>
</p>
<h2><a name="_confirmation_text">$confirmation_text</a></h2>
<p>The header and body of the confirmation email
sent to the person who submits the form, if the
$send_confirmation_mail flag is set. We use a
Perl 'here document' to allow us to configure it
as a single block of text in the script. In the
example below, everything between the lines</p>
<pre>
 $confirmation_text = &lt;&lt;'END_OF_CONFIRMATION';</pre>
<p>and</p>
<pre>
 END_OF_CONFIRMATION</pre>
<p>is treated as part of the email. Everything
before the first blank line is taken as part of
the email header, and everything after the first
blank line is the body of the email.</p>
<pre>
 $confirmation_text = &lt;&lt;'END_OF_CONFIRMATION';
 From: you@your.com
 Subject: form submission 
 
 Thankyou for your form submission.
 
 END_OF_CONFIRMATION</pre>
<p>
</p>
<hr />
<h1><a name="installation">INSTALLATION</a></h1>
<p>Formmail is installed by copying the file FormMail.pl into your cgi-bin
directory. If you don't know where your cgi-bin directory is, then please
ask your system administrator.</p>
<p><strong>Dada-ized FormMail Note:</strong></p>
<p>By default, this script is located in the, <em>dada/extensions/FormMail</em> directory</p>
<p>Uploading the <strong>FormMail</strong> directory into your, <em>cgi-bin/dada/extensions</em> direction on the server will make this script work beautifully.</p>
<p>You may need to rename FormMail.pl to FormMail.cgi. Again, your system
administrator will know if this is the case.</p>
<p>You will probably need to turn on execute permissions to the file. You can
do this by running the command ``chmod +x FormMail.pl'' from your command
line. If you don't have command line access to your web server then there
will probably be an equivalent function in your file transfer program.</p>
<p>
</p>
<hr />
<h1><a name="form_configuration">FORM CONFIGURATION</a></h1>
<p>To make use of it, you need to write an HTML form that refers to the
FormMail script. Here's an example which will send mail to the address
<a href="mailto:'feedback@your.domain'">'feedback@your.domain'</a> when someone submits the form:</p>
<pre>
 &lt;form method=&quot;post&quot; action=&quot;<a href="http://your.domain/cgi-bin/dada/extensions/FormMail/FormMail.pl">http://your.domain/cgi-bin/dada/extensions/FormMail/FormMail.pl</a>&quot;&gt;
   &lt;input type=&quot;hidden&quot; name=&quot;recipient&quot; value=&quot;feedback@your.domain&quot; /&gt;
   &lt;input type=&quot;text&quot; name=&quot;feedback&quot; /&gt;&lt;br /&gt;
   Please enter your comments&lt;br /&gt;
   &lt;input type=&quot;submit&quot; /&gt;
 &lt;/form&gt;</pre>
<p>See how the hidden 'recipient' input in the example above told formmail who
to send the mail to ? This is how almost all of formmail's configuration
works. Here's the full list of things you can set with hidden form inputs:</p>
<p>
</p>
<h2><a name="recipient">recipient</a></h2>
<p>The email address to which the form submission
should be sent. If you would like it copied to
more than one recipient then you can separate
multiple email addresses with commas, for
example:</p>
<pre>
 &lt;input type=&quot;hidden&quot; name=&quot;recipient&quot;
     value=&quot;you@your.domain,me@your.domain&quot; /&gt;</pre>
<p>If you leave the 'recipient' field out of the
form, formmail will send to the first address
listed in the @allow_mail_to configuration
variable (see above).  This allows you to avoid
putting your email address in the form, which
might be desirable if you're concerned about
address harvesters collecting it and sending
you SPAM. This feature is disabled if the
$emulate_matts_code configuration variable is
set to 1.</p>
<p>
</p>
<h2><a name="subject">subject</a></h2>
<p>The subject line for the email. For example:</p>
<pre>
 &lt;input type=&quot;hidden&quot; name=&quot;subject&quot;
     value=&quot;From the feedback form&quot; /&gt;</pre>
<p>
</p>
<h2><a name="redirect">redirect</a></h2>
<p>If this value is present it should be a URL, and
the user will be redirected there after a
successful form submission.  For example:</p>
<pre>
 &lt;input type=&quot;hidden&quot; name=&quot;redirect&quot;
    value=&quot;<a href="http://www.your.domain/foo.html&quot">http://www.your.domain/foo.html&quot</a>; /&gt;</pre>
<p>If you don't specify a redirect URL then instead
of redirecting formmail will generate a success
page telling the user that their submission was
successful.</p>
<p>
</p>
<h2><a name="bgcolor">bgcolor</a></h2>
<p>The background color for the success page.</p>
<p>
</p>
<h2><a name="background">background</a></h2>
<p>The URL of the background image for the success page.</p>
<p>
</p>
<h2><a name="text_color">text_color</a></h2>
<p>The text color for the success page.</p>
<p>
</p>
<h2><a name="link_color">link_color</a></h2>
<p>The link color for the success page.</p>
<p>
</p>
<h2><a name="vlink_color">vlink_color</a></h2>
<p>The vlink color for the success page.</p>
<p>
</p>
<h2><a name="alink_color">alink_color</a></h2>
<p>The alink color for the success page.</p>
<p>
</p>
<h2><a name="title">title</a></h2>
<p>The title for the success page.</p>
<p>
</p>
<h2><a name="return_link_url">return_link_url</a></h2>
<p>The target URL for a link at the end of the
success page. This is normally used to provide
a link from the success page back to your main
page or back to the page with the form on. For
example:</p>
<pre>
 &lt;input type=&quot;hidden&quot; name=&quot;return_link_url&quot;
    value=&quot;/home.html&quot; /&gt;</pre>
<p>
</p>
<h2><a name="return_link_title">return_link_title</a></h2>
<p>The label for the return link.  For example:</p>
<pre>
 &lt;input type=&quot;hidden&quot; name=&quot;return_link_title&quot;
     value=&quot;Back to my home page&quot; /&gt;</pre>
<p>
</p>
<h2><a name="sort">sort</a></h2>
<p>This sets the order in which the submitted form
inputs will appear in the email and on the
success page.  It can be the string 'alphabetic'
for alphabetic order, or the string ``order:''
followed by a comma separated list of the input
names, for example:</p>
<pre>
 &lt;input type=&quot;hidden&quot; name=&quot;sort&quot;
     value=&quot;order:name,email,age,comments&quot; /&gt;</pre>
<p>If ``order:'' is used you must supply the names of
all of the fields that you want to be in the body of
the mail message.</p>
<p>
</p>
<h2><a name="print_config">print_config</a></h2>
<p>This is mainly used for debugging, and if set it
causes formmail to include a dump of the
specified configuration settings in the email.
For example:</p>
<pre>
 &lt;input type=&quot;hidden&quot; name=&quot;print_config&quot;
     value=&quot;title,sort&quot; /&gt;</pre>
<p>... will include whatever values you set for
'title' and 'sort' (if any) in the email.</p>
<p>
</p>
<h2><a name="required">required</a></h2>
<p>This is a list of fields that the user must fill
in before they submit the form. If they leave
any of these fields blank then they will be sent
back to the form to try again.  For example:</p>
<pre>
 &lt;input type=&quot;hidden&quot; name=&quot;required&quot;
     value=&quot;name,comments&quot; /&gt;</pre>
<p>
</p>
<h2><a name="missing_fields_redirect">missing_fields_redirect</a></h2>
<p>If this is set, it must be a URL, and the user
will be redirected there if any of the fields
listed in 'required' are left blank. Use this if
you want finer control over the the error that
the user see's if they miss out a field.</p>
<p>
</p>
<h2><a name="env_report">env_report</a></h2>
<p>This is a list of the CGI environment variables
that should be included in the email.  This is
useful for recording things like the IP address
of the user in the email. Any environment
variables that you want to use in 'env_report' in
any of your forms will need to be in the
@valid_ENV configuration variable described
above.</p>
<p>
</p>
<h2><a name="print_blank_fields">print_blank_fields</a></h2>
<p>If this is set then fields that the user left
blank will be included in the email.  Normally,
blank fields are suppressed to save space.</p>
<p>As well as all these hidden inputs, there are a couple of non-hidden
inputs which get special treatment:</p>
<p>
</p>
<h2><a name="email">email</a></h2>
<p>If one of the things you're asking the user to fill in is their
email address and you call that input 'email', formmail will use
it as the address part of the sender's email address in the
email.</p>
<p>
</p>
<h2><a name="realname">realname</a></h2>
<p>If one of the things you're asking the user to fill in is their
full name and you call that input 'realname', formmail will use
it as the name part of the sender's email address in the email.</p>
<p>
</p>
<hr />
<h1><a name="dadaized_specific_form_configuration">Dada-ized Specific FORM CONFIGURATION</a></h1>
<p>Along with the default form configurations, the Dada-ized FormMail allows you to specify if you'd like to subscribe, or send a confirmation for subscription to the email address located in the <strong>email</strong> form value.</p>
<p>Do note, that some of these form fields have changed in the 2.10.11 version of Dada Mail:</p>
<p>
</p>
<h2><a name="email">email</a></h2>
<p>As well as the default behavior that the <strong>email</strong> field has in FormMail, the Dada-ized FormMail will also use the value of the <strong>email</strong> field for subscriptions or subscription confirmations.</p>
<p>
</p>
<h2><a name="dada_mail_list">dada_mail_list</a></h2>
<p>Holds the <strong>listshortname</strong> of the Dada Mail list you'd like to use</p>
<p>example:</p>
<pre>
        &lt;input type='hidden' name='dada_mail_list' value='justin'&gt;</pre>
<p>
</p>
<h2><a name="dada_mail_subscribe_email">dada_mail_subscribe_email</a></h2>
<p>Set to either, <strong>1</strong> or, <strong>yes</strong> if you'd like the email address submitted in the form to be subscribed to your Dada Mail list.</p>
<p>You may want to have this formfield a checkbox, so that the person filling out the form can make the choice themselves:</p>
<pre>
 &lt;input type=&quot;checkbox&quot; name=&quot;dada_mail_subscribe_email&quot; value=&quot;1&quot; /&gt; Yes! Add my email to your list!</pre>
<p>
</p>
<h2><a name="dada_mail_confirm_email">dada_mail_confirm_email</a></h2>
<p>Set to either, <strong>1</strong> or, <strong>yes</strong>. Similar to the, <strong>dada_mail_subscribe_email</strong> field, but rather than subscribing an email address, the address will be sent a confirmation email for the subscription.</p>
<p><strong>This is the prefered behavior</strong>.</p>
<p>Don't use the <strong>dada_mail_confirm_email</strong> and <strong>dada_mail_subscribe_email</strong> in the same form, most likely the,  <strong>dada_mail_subscribe_email</strong> field value will be used. Most likely.</p>
<p>
</p>
<hr />
<h1><a name="common_problems">COMMON PROBLEMS</a></h1>
<p>
</p>
<h2><a name="confusion_over_the_qw_operator">Confusion over the qw operator</a></h2>
<p>In the configuration section at the top of FormMail, we set
the default list of allowed referers with this line of code:</p>
<pre>
   @referers = qw(dave.org.uk 209.207.222.64 localhost);</pre>
<p>This use of the <code>qw()</code> operator is one way to write lists of
strings in Perl.  Another way is like this:</p>
<pre>
   @referers = ('dave.org.uk','209.207.222.64','localhost');</pre>
<p>We prefer the first version because it allows use to leave out
the quote character, but the second version is perfectly valid
and works exactly the same as the <code>qw()</code> version.  You should
use whichever version you feel most comfortable with.  Neither
is better or worse than the other.</p>
<p>What you must not do is try to mix the two, and end up with
something like:</p>
<pre>
   @referers = qw('dave.org.uk','209.207.222.64','localhost');</pre>
<p>This will not work, and you will see unexpected behavior.  In
the case of @referers, the script will always display a
``bad referer'' error page.</p>
<p>
</p>
<h2><a name="sendmail_switches_removed">Sendmail switches removed</a></h2>
<p>In the configuration section at the top of FormMail, we set
the default mail program to sendmail with this code:</p>
<pre>
   $mailprog          = '/usr/lib/sendmail -oi -t';</pre>
<p>This is actually two different pieces of information; the
location of the sendmail binary (/usr/lib/sendmail) and
the command line switches that must be passed to it in order
for it to read the list of message recipients from the
message header (-oi -t).</p>
<p>If your hosting provider or system administrator tells you that
sendmail is /usr/sbin/sendmail on your system, then you must
change the $mailprog line to:</p>
<pre>
   $mailprog          = '/usr/sbin/sendmail -oi -t';</pre>
<p>and not:</p>
<pre>
   $mailprog          = '/usr/sbin/sendmail';</pre>
<p>
</p>
<hr />
<h1><a name="support">SUPPORT</a></h1>
<p>For support of this script please email:</p>
<pre>
  &lt;nms-cgi-support@lists.sourceforge.net&gt;
</pre>

</body>

</html>
