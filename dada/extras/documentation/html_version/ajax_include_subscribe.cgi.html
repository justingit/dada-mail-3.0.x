<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>AJAXed Subscription Form</title>
<link rel="stylesheet" href="/Users/justin/Documents/DadaMail/build/tmp/dada/extras/documentation/pod_source/pod_styles.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@omen.apple.com" />
</head>

<body>

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#usage">USAGE</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<ul>

		<li><a href="#as_a_javascript_library">As a Javascript Library</a></li>
		<li><a href="#as_a_server_side_include">As a Server Side Include</a></li>
		<li><a href="#by_itself">By Itself</a></li>
		<li><a href="#by_copying_the_html_javascript">By Copying the HTML/Javascript</a></li>
	</ul>

	<li><a href="#configuration">CONFIGURATION</a></li>
	<ul>

		<li><a href="#_plugin_config__default_list_">$Plugin_Config-&gt;{Default_List}</a></li>
		<li><a href="#_cache_subscribe_form__currently__disabled_">$Cache_Subscribe_Form (currently, Disabled)</a></li>
		<li><a href="#_subscription_descriptions">%Subscription_Descriptions</a></li>
		<li><a href="#_subscription_redirect_this">@Subscription_Redirect_This</a></li>
		<li><a href="#_unsubscription_descriptions">%Unsubscription_Descriptions</a></li>
		<li><a href="#_unsubscription_redirect_this">@Unsubscription_Redirect_This</a></li>
		<li><a href="#_loading">%Loading</a></li>
		<li><a href="#_js_code">$JS_Code</a></li>
		<li><a href="#_form">$Form</a></li>
		<li><a href="#_process_screen">$Process_Screen</a></li>
	</ul>

	<li><a href="#see_also">SEE ALSO</a></li>
	<ul>

		<li><a href="#dada_mail_docs">Dada Mail Docs</a></li>
		<li><a href="#cpan_perl_modules">CPAN Perl Modules</a></li>
	</ul>

	<li><a href="#demo">DEMO</a></li>
	<li><a href="#diagnostics">DIAGNOSTICS</a></li>
	<li><a href="#configuration_and_environment">CONFIGURATION AND ENVIRONMENT</a></li>
	<li><a href="#dependencies">DEPENDENCIES</a></li>
	<li><a href="#incompatibilities">INCOMPATIBILITIES</a></li>
	<li><a href="#bugs_and_limitations">BUGS AND LIMITATIONS</a></li>
	<li><a href="#author">AUTHOR</a></li>
	<li><a href="#licence_and_copyright">LICENCE AND COPYRIGHT</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<hr />
<h1><a name="name">NAME</a></h1>
<p>ajax_include_subscribe.cgi - An AJAX'd subscription form</p>
<p>
</p>
<hr />
<h1><a name="usage">USAGE</a></h1>
<ul>
<li><strong><a name="item_use_it_like_a_cgi_script_2e">Use it like a cgi script.</a></strong>

<p>Put it in your, <strong>extensions</strong> directory (ala: cgi-bin/dada/extensions), chmod 755, visit it in your web browser.</p>
</li>
</ul>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>This small extension script is an exampe of a Dada Mail subscription form with AJAX hooks. Highly customizable, it is meant to be used in one of two ways:</p>
<p>
</p>
<h2><a name="as_a_javascript_library">As a Javascript Library</a></h2>
<p>To add this form to your HTML page, just add a line that looks like this: 
</p>
<pre>

        &lt;script type=&quot;text/javascript&quot; src=&quot;<a href="http://example.com/cgi-bin/dada/extensions/ajax_include_subscribe.cgi">http://example.com/cgi-bin/dada/extensions/ajax_include_subscribe.cgi</a>&quot;&gt;&lt;/script&gt;</pre>
<p>
</p>
<h2><a name="as_a_server_side_include">As a Server Side Include</a></h2>
<p>You can also call it as a server side include, like this:</p>
<pre>
  &lt;!--#include virtual=&quot;/cgi-bin/dada/ajax_subscribe.cgi?mode=html&quot; --&gt;</pre>
<p>Make sure to add the query string, <code>mode=html</code></p>
<p>
</p>
<h2><a name="by_itself">By Itself</a></h2>
<p>Not really a method, but you can view the HTML and Javascript produced by visiting the extension in your web browser, with the same query string you use for the Server Side Include:</p>
<p><a href="http://example.com/cgi-bin/dada/ajax_subscribe.cgi?mode=html">http://example.com/cgi-bin/dada/ajax_subscribe.cgi</a></p>
<p>
</p>
<h2><a name="by_copying_the_html_javascript">By Copying the HTML/Javascript</a></h2>
<p>You could also try just copying the source that this script produces from the URL above, and paste it into a page/script/etc that you'd like.</p>
<p>Probably not the best idea, but I'll throw that idea for ya.</p>
<p>
</p>
<hr />
<h1><a name="configuration">CONFIGURATION</a></h1>
<p>There's no configuration that you are <strong>required</strong> to do, but there's many things that you <strong>can</strong> do. We'll try to cover everything:</p>
<p>
</p>
<h2><a name="_plugin_config__default_list_">$Plugin_Config-&gt;{Default_List}</a></h2>
<p>By default, this subscription form shows a popup menu containing every available list, so a visitor may select which list to subscribe to.</p>
<p>If you would like to have this form work for only one list, you may set the <strong>list short name</strong> in the <strong>$Plugin_Config-</strong>{Default_List} &gt; variable:</p>
<pre>
 $Plugin_Config-&gt;{Default_List}  = 'mylistshortname';</pre>
<p>If you've configured this variable incorrectly, you'll most likely receive an error in your web browser, so take care in setting it correctly.</p>
<p>
</p>
<h2><a name="_cache_subscribe_form__currently__disabled_">$Cache_Subscribe_Form (currently, Disabled)</a></h2>
<p>If set to, <strong>1</strong>, this extension will attempt to cache the default subscription form it creates. This could lighten the load on busy websites. Do note that Global Page Caching has to be turned on for this to work.</p>
<p>See Also:</p>
<p><a href="Config.pm.html#_screen_cache__caching_html_screens">Config.pm.html#_screen_cache__caching_html_screens</a></p>
<p>
</p>
<h2><a name="_subscription_descriptions">%Subscription_Descriptions</a></h2>
<p><strong>%Subscription_Descriptions</strong> holds the many possible messages that are displayed, when a successful request for a subscription was handled. The keys to the key/value pairs correspond to the various internal codes used by Dada Mail. See also:</p>
<p><a href="MailingList_Subscribers.pm.html#subscription_check">MailingList_Subscribers.pm.html#subscription_check</a></p>
<p>
</p>
<h2><a name="_subscription_redirect_this">@Subscription_Redirect_This</a></h2>
<p>The whole idea of having an AJAX'd subscription form is to not have to refresh the page and redirect your visitor to Dada Mail itslef when requesting a subscripiton.</p>
<p>If you would <strong>like</strong> a redirection to take place, all you need to do is list the internal key code into the <strong>@Subscription_Redirect_This</strong> array. The possible keys available are also the keys listed in <strong>%Subscription_Descriptions</strong></p>
<p>
</p>
<h2><a name="_unsubscription_descriptions">%Unsubscription_Descriptions</a></h2>
<p><strong>%Unsubscription_Descriptions</strong> holds the many possible messages that are displayed, when a successful request for an unsubscription was handled. The keys to the key/value pairs correspond to the various internal codes used by Dada Mail. See also:</p>
<p><a href="MailingList_Subscribers.pm.html#unsubscription_check">MailingList_Subscribers.pm.html#unsubscription_check</a></p>
<p>For a description of these various key/value pairs.</p>
<p>
</p>
<h2><a name="_unsubscription_redirect_this">@Unsubscription_Redirect_This</a></h2>
<p>The whole idea of having an AJAX'd subscription form is to not have to refresh the page and redirect your visitor to Dada Mail itslef when requesting a subscripiton.</p>
<p>If you would <strong>like</strong> a redirection to take place for an unsubscription request, all you need to do is list the internal key code into the <strong>@Unsubscription_Redirect_This</strong> array. The possible keys available are also the keys listed in <strong>%Unsubscription_Descriptions</strong></p>
<p>
</p>
<h2><a name="_loading">%Loading</a></h2>
<p>The <strong>%Loading</strong> hash contains a few variables you can set to customize the <strong>``Loading...''</strong> message displayed as this extension goes about its business with your request.</p>
<p>
</p>
<h2><a name="_js_code">$JS_Code</a></h2>
<p><strong>$JS_Code</strong> holds the Javascript template that's shown when you initially visit the form. It's written in the HTML::Template templating language.</p>
<p>
</p>
<h2><a name="_form">$Form</a></h2>
<p><strong>$Form</strong> holds the HTML template that's shown when you initially visit the form. It's written in the HTML::Template templating language.</p>
<p>
</p>
<h2><a name="_process_screen">$Process_Screen</a></h2>
<p><strong>$Process_Screen</strong> holds the HTML template that's shown in the HTML element of the <strong>$Default_Screen</strong> that has an id of, <strong>resultdiv</strong></p>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p>
</p>
<h2><a name="dada_mail_docs">Dada Mail Docs</a></h2>
<p>See the Subscription Cookbook on an explanation on how the subscription code works:</p>
<p><a href="COOKBOOK-subscriptions.pod.html">COOKBOOK-subscriptions.pod.html</a></p>
<p>also see DADA::MailingList::Subscribers for the nitty-gritty stuff.</p>
<p><a href="MailingList_Subscribers.pm.html">MailingList_Subscribers.pm.html</a></p>
<p>
</p>
<h2><a name="cpan_perl_modules">CPAN Perl Modules</a></h2>
<p>The AJAX'y stuff is created using CGI::Ajax:</p>
<p><a href="http://search.cpan.org/~bct/CGI-Ajax/lib/CGI/Ajax.pm">http://search.cpan.org/~bct/CGI-Ajax/lib/CGI/Ajax.pm</a></p>
<p>The HTML templates are using a templating language called, HTML::Template:</p>
<p><a href="http://search.cpan.org/~samtregar/HTML-Template/Template.pm">http://search.cpan.org/~samtregar/HTML-Template/Template.pm</a></p>
<p>
</p>
<hr />
<h1><a name="demo">DEMO</a></h1>
<p>Yes!</p>
<p>See:</p>
<p><a href="http://dadamailproject.com/cgi-bin/dada/extensions/ajax_include_subscribe.cgi">http://dadamailproject.com/cgi-bin/dada/extensions/ajax_include_subscribe.cgi</a></p>
<p>
</p>
<hr />
<h1><a name="diagnostics">DIAGNOSTICS</a></h1>
<p>None, really.</p>
<p>
</p>
<hr />
<h1><a name="configuration_and_environment">CONFIGURATION AND ENVIRONMENT</a></h1>
<p>
</p>
<hr />
<h1><a name="dependencies">DEPENDENCIES</a></h1>
<p>
</p>
<hr />
<h1><a name="incompatibilities">INCOMPATIBILITIES</a></h1>
<p>
</p>
<hr />
<h1><a name="bugs_and_limitations">BUGS AND LIMITATIONS</a></h1>
<p>Please, let me know if you find any bugs.

</p>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>Justin Simoni 

</p>
<p>See: <a href="http://dadamailproject.com/contact">http://dadamailproject.com/contact</a>

</p>
<p>
</p>
<hr />
<h1><a name="licence_and_copyright">LICENCE AND COPYRIGHT</a></h1>
<p>Copyright (c) 2006-2008 Justin Simoni All rights reserved. 

</p>
<p>This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

</p>
<p>You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place - Suite 330, 
Boston, MA  02111-1307, USA.

</p>

</body>

</html>
