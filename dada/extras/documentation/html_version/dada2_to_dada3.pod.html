<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Dada Mail 2.x to Dada Mail 3.x Guide</title>
<link rel="stylesheet" href="/Users/justin/Documents/DadaMail/build/tmp/dada/extras/documentation/pod_source/pod_styles.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@omen.apple.com" />
</head>

<body>

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#dada_mail_2_to_dada_mail_3_guide">Dada Mail 2 to Dada Mail 3 Guide</a></li>
	<li><a href="#introduction">Introduction</a></li>
	<li><a href="#differences">Differences</a></li>
	<ul>

		<li><a href="#sql_schema">SQL Schema</a></li>
		<li><a href="#send_a_list_message_screen">Send a List Message screen</a></li>
		<li><a href="#send_a_list_invitation_screen">Send a List Invitation screen</a></li>
		<li><a href="#email_message_templates">Email Message Templates</a></li>
		<ul>

			<li><a href="#defaults">Defaults</a></li>
			<li><a href="#email_template_syntax">Email Template Syntax</a></li>
			<li><a href="#email_template_tags">Email Template Tags</a></li>
		</ul>

		<li><a href="#sendmail_settings__defaults_for_mass_mailings_have_changed_">Sendmail Settings - defaults for mass mailings have changed!</a></li>
		<li><a href="#global_list_sending">Global List Sending</a></li>
		<li><a href="#fckeditor_support">FCKeditor Support</a></li>
		<li><a href="#plugin_extension_configuration_variables">Plugin/Extension Configuration Variables</a></li>
		<li><a href="#plugin_extension_cron_settings">Plugin/Extension Cron Settings</a></li>
		<li><a href="#mystery_girl__bounce_handler_">Mystery Girl (Bounce Handler)</a></li>
		<ul>

			<li><a href="#scorecards">Scorecards</a></li>
		</ul>

		<li><a href="#clickthrough_tracker_plugin">Clickthrough Tracker Plugin</a></li>
		<li><a href="#deprecated_plugin_extensions">Deprecated Plugin/Extensions</a></li>
		<ul>

			<li><a href="#plugin__email_list_owners_cgi">Plugin: email_list_owners.cgi</a></li>
			<li><a href="#plugin__multi_admin_subscribers_cgi">Plugin: multi_admin_subscribers.cgi</a></li>
			<li><a href="#plugin__mx_lookup_cgi">Plugin: mx_lookup.cgi</a></li>
			<li><a href="#extension__dada_backup_pl">Extension: dada_backup.pl</a></li>
			<li><a href="#extension__dada_digest_pl">Extension: dada_digest.pl</a></li>
			<li><a href="#extension__dada_stats_pl">Extension: dada_stats.pl</a></li>
			<li><a href="#extension__update_subscription_cgi">Extension: update_subscription.cgi</a></li>
		</ul>

	</ul>

	<li><a href="#see_also">See Also</a></li>
	<ul>

		<li><a href="#the_upgrade_faq">The UPGRADE FAQ</a></li>
		<li><a href="#technical_documentation">Technical Documentation</a></li>
		<ul>

			<li><a href="#subscriber_backend">Subscriber Backend</a></li>
			<li><a href="#templating_system">Templating System</a></li>
		</ul>

	</ul>

</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<hr />
<h1><a name="dada_mail_2_to_dada_mail_3_guide">Dada Mail 2 to Dada Mail 3 Guide</a></h1>
<p>
</p>
<hr />
<h1><a name="introduction">Introduction</a></h1>
<p>This guide is to help you transition between Dada Mail 2.x to Dada Mail 3.x. It's not a list of new features, but rather a list of old features that have been removed and replaced and new ways of doing the same old thing.</p>
<p>The hope for transitioning between Dada Mail 2.x and Dada Mail 3.x is to be quite problem-free. Most all changes (at least to us) seem to be for the better and outright incompatibilities have been kept to an absolute minumum.</p>
<p>We still would like to hear your accounts on upgrading and any feedback you'd like to give us, using the usual channels.</p>
<p>
</p>
<hr />
<h1><a name="differences">Differences</a></h1>
<p>
</p>
<h2><a name="sql_schema">SQL Schema</a></h2>
<p>The SQL Schema for most modern versions of Dada Mail 2.x (say, Dada Mail 2.10 and above) should work well with Dada Mail 3.x. Notable differences are that some of the tables now include a table Index. You may want to look at the schema directly and make any changes you would deem needed. There is no SQL table translater for Dada Mail 2.x to Dada Mail 3.x.</p>
<p>The SQL schemas themselves are now saved in the following files:</p>
<ul>
<li><strong><a name="item_dada_2fextas_2fsql_2fmysql_schema_2esql">dada/extas/SQL/mysql_schema.sql</a></strong>

<li><strong><a name="item_dada_2fextas_2fsql_2fpostgres_schema_2esql">dada/extas/SQL/postgres_schema.sql</a></strong>

<li><strong><a name="item_dada_2fextas_2fsql_2fsqlite_schema_2esql">dada/extas/SQL/sqlite_schema.sql</a></strong>

</ul>
<p>You may also want to review the SQL configuration information in the Config.pm documentation.</p>
<p>
</p>
<h2><a name="send_a_list_message_screen">Send a List Message screen</a></h2>
<p>There's only one version of this screen, there's no longer a, ``Basic'' and, ``Advanced'' version.</p>
<p>The option to create an HTML version of a message from a PlainText message has been removed.</p>
<p>There are now three hard-coded areas to add attachments. There's no longer a way to add more attachments. A workaround would simply to take advantage of support for the FCKeditor for HTML messages that can be written easily.</p>
<p>
</p>
<h2><a name="send_a_list_invitation_screen">Send a List Invitation screen</a></h2>
<p>The, ``Send a List Invitation'' screen has been removed from the left hand menu.</p>
<p>Instead, list invitations are an option at the end of the, ``Add Email'' progression of screens. This should 
give you a better idea on who exactly will receive your list invitation.</p>
<p>There's also two checkboxes, that allow you the option to choose if you actually use the PlainText or HTML version of the invitation message.</p>
<p>
</p>
<h2><a name="email_message_templates">Email Message Templates</a></h2>
<p>
</p>
<h3><a name="defaults">Defaults</a></h3>
<p>Almost every single email message template default is store in the Config.pm file. A few notable exceptions are a few email message templates used for Dada Bridge and Mystery Girl (Bounce Handler)</p>
<p>
</p>
<h3><a name="email_template_syntax">Email Template Syntax</a></h3>
<p>In its core, all email message templates use HTML::Template (<a href="http://search.cpan.org/~samtregar/HTML-Template/Template.pm">http://search.cpan.org/~samtregar/HTML-Template/Template.pm</a>) as the template engine and any of its template syntax should work with Dada Mail's email message templates.</p>
<p>
</p>
<h3><a name="email_template_tags">Email Template Tags</a></h3>
<p>The following tags are currently not valid for email message templates:</p>
<ul>
<li><strong><a name="item__5bemail_5d">[email]</a></strong>

<p>Use:</p>
<pre>
 [subscriber.email]</pre>
</li>
<li><strong><a name="item__5blist_name_5d">[list_name]</a></strong>

<p>Use:</p>
<pre>
 [list_settings.list_name]</pre>
</li>
<li><strong><a name="item__5blist_info_5d">[list_info]</a></strong>

<p>Use:</p>
<pre>
 [list_settings.info]</pre>
</li>
<li><strong><a name="item__5bplain_list_subscribe_link_5d">[plain_list_subscribe_link]</a></strong>

<p>Use:</p>
<pre>
 [list_subscribe_link]</pre>
</li>
<li><strong><a name="item__5bplain_list_unsubscribe_link_5d">[plain_list_unsubscribe_link]</a></strong>

<p>Use:</p>
<pre>
 [list_unsubscribe_link]</pre>
</li>
<li><strong><a name="item__5blist_confirm_subscribe_link_5d">[list_confirm_subscribe_link]</a></strong>

<p>This tag hasn't been dropped, but will ONLY work in certain messages, including the list subscription confirmation message and the list invitation message.</p>
</li>
<li><strong><a name="item__5bplain_list_confirm_subscribe_link_5d">[plain_list_confirm_subscribe_link]</a></strong>

<p>Use:</p>
<pre>
 [list_confirm_subscribe_link]</pre>
</li>
<li><strong><a name="item__5blist_confirm_unsubscribe_link_5d">[list_confirm_unsubscribe_link]</a></strong>

<p>This tag hasn't been dropped, but will ONLY work in the list unsubscription confirmation message.</p>
</li>
<li><strong><a name="item__5bplain_list_confirm_unsubscribe_link_5d">[plain_list_confirm_unsubscribe_link]</a></strong>

<p>Use:</p>
<pre>
 [list_confirm_unsubscribe_link]</pre>
</li>
<li><strong><a name="item__5blist_privacy_policy_5d">[list_privacy_policy]</a></strong>

<p>Use:</p>
<pre>
 [list_settings.privacy_policy]</pre>
</li>
<li><strong><a name="item__5blist_owner_email_5d">[list_owner_email]</a></strong>

<p>Use:</p>
<pre>
 [list_settings.list_owner_email]</pre>
</li>
<li><strong><a name="item__5blist_admin_email_5d">[list_admin_email]</a></strong>

<p>Use:</p>
<pre>
 [list_settings.admin_email]</pre>
</li>
<li><strong><a name="item__5bprogram_url_5d">[program_url]</a></strong>

<p>Use:</p>
<pre>
 [PROGRAM_URL]</pre>
</li>
</ul>
<p>The above tags will be automatically converted when moving from Dada Mail 2.x to Dada Mail 3.x, but do remember that their support will be completely dropped in future versions</p>
<p>
</p>
<h2><a name="sendmail_settings__defaults_for_mass_mailings_have_changed_">Sendmail Settings - defaults for mass mailings have changed!</a></h2>
<p>In Dada Mail 3.x, the default mail settings have changed. There are now two separate mail settings, one for mass mailings - when you're sending to a lot of people at once and one for everything else.</p>
<p>The mail settings for mass sending are saved in the Config variable:</p>
<pre>
 $MASS_MAIL_SETTINGS</pre>
<p>The mail settings for everything else is saved in the variable:</p>
<pre>
 $MAIL_SETTINGS</pre>
<p>By default, the $MASS_MAIL_SETTINGS sets the, <code>-o</code>, <code>-d</code> and <code>-q</code> flags, which should help Dada Mail be a nicer server citizen.</p>
<p>Mass mailing will seem slower. If mass mailing does NOT work at all, or you cannot tolerate this slowdown, feel free to change the $MASS_MAIL_SETTINGS to reflect what's in the $MAIL_SETTINGS variable.</p>
<p>
</p>
<h2><a name="global_list_sending">Global List Sending</a></h2>
<p>The Global List Sending feature has been removed. Do look at the <em>Partial</em> List Sending feature, that will allow you to send to <em>part</em> of your list, given a query of yoru subscriber fields, which basically gives you sublist support. Which is probably a lot handier.</p>
<p>
</p>
<h2><a name="fckeditor_support">FCKeditor Support</a></h2>
<p>Make sure to use the latest version of FCKEditor. FCKeditor support should be available in the following screens:</p>
<ul>
<li><strong><a name="item_send_a_list_message">Send a List Message</a></strong>

<li><strong><a name="item_send_a_webpage">Send a Webpage</a></strong>

<li><strong><a name="item_send_a_list_invitation">Send a List Invitation</a></strong>

<li><strong><a name="item_beatitude">Beatitude</a></strong>

</ul>
<p>
</p>
<h2><a name="plugin_extension_configuration_variables">Plugin/Extension Configuration Variables</a></h2>
<p>The config variables for the following plugins/extensions:</p>
<ul>
<li><strong><a name="item_girl">Mystery Girl (dada_bounce_handler.pl)</a></strong>

<li><strong>Beatitude (scheduled_mailings.pl)</strong>

<li><strong><a name="item_bridge">Dada Bridge (dada_bridge.pl)</a></strong>

<li><strong><a name="item_blog_index_2ecgi">blog_index.cgi</a></strong>

</ul>
<p>Are now in the, <code>$Plugin_Config</code> hashref, in the plugin/extension itself.</p>
<p>You may also set these variables in the Config.pm and/or the outside config file, via the <code>$PLUGIN_CONFIGS</code> Config.pm variable.</p>
<p>
</p>
<h2><a name="plugin_extension_cron_settings">Plugin/Extension Cron Settings</a></h2>
<p>Plugins/Extensions that need to have a cronjob created all have a similar format for how they have to be called.</p>
<p>You also now have the option to call all these plugins via a URL (and incidentally, using something like <code>curl</code> or <code>wget</code>). This should help solve many of the environment issues with these plugins, such as setting the correct absolute path in the cronjob, setting the perl lib paths in the script itself, permissions issues with the script running as a different user when invoked by the cron daemon, etc. Coupled with the ability to set any configurations needed outside of the plugin itself, this should make upgrading  a plugin as easy as replacing the script itself.</p>
<p>
</p>
<h2><a name="mystery_girl__bounce_handler_">Mystery Girl (Bounce Handler)</a></h2>
<p>
</p>
<h3><a name="scorecards">Scorecards</a></h3>
<p>Bounce Scorecards are now list-centric. The score on one list for a particular email address will not impact the score on a separate list.</p>
<p>
</p>
<h2><a name="clickthrough_tracker_plugin">Clickthrough Tracker Plugin</a></h2>
<p>The Clickthrough Tracker is fully functional in Dada Mail 3, although the Redirect URL format is different and the older URL format probably won't work anymore.</p>
<p>
</p>
<h2><a name="deprecated_plugin_extensions">Deprecated Plugin/Extensions</a></h2>
<p>
</p>
<h3><a name="plugin__email_list_owners_cgi">Plugin: email_list_owners.cgi</a></h3>
<p>This plugin hasn't been updated in quite a while and doesn't seem to be very popular. It may be removed in a future release.</p>
<p>
</p>
<h3><a name="plugin__multi_admin_subscribers_cgi">Plugin: multi_admin_subscribers.cgi</a></h3>
<p>This plugin currently doesn't know about Subscriber Fields, so it's suggested that you NOT use this plugin, if you use subscriber fields. Those fields will most likely be lost when you make any new subscriptions/unsubscriptions using this plugin.</p>
<p>The above issue may need to be resolved, or, we may drop support for the plugin. What do you think we should do? (Let us know)</p>
<p>
</p>
<h3><a name="plugin__mx_lookup_cgi">Plugin: mx_lookup.cgi</a></h3>
<p>This plugin currently doesn't know about Subscriber Fields, so it's suggested that you NOT use this plugin, if you use subscriber fields. It may be dropped in a future release of Dada Mail.</p>
<p>
</p>
<h3><a name="extension__dada_backup_pl">Extension: dada_backup.pl</a></h3>
<p>This extension currently doesn't know about Subscriber Fields, so it's suggested that you NOT use this extension, if you use subscriber fields.</p>
<p>The codestyle of this extension is also atrocious.</p>
<p>This extension will probably be dropped in a future release.</p>
<p>It's suggested that if you need similar functionality, just make an either manual or automatic backup of the directory you're storing your Dada Files in. It's also suggested to use the SQL backend, which is going to offer a myriad of choice for fault tolerance.</p>
<p>
</p>
<h3><a name="extension__dada_digest_pl">Extension: dada_digest.pl</a></h3>
<p>This extension will be deprecated, in favor of folding it's functionality into the core of Dada Mail, or into Dada Bridge. The extension has several shortcomings, including little flexibility on how digest messages are formatted, having to use two lists to make a digest, not having the ability for members of the digest list to post to the non-digest list, etc.</p>
<p>
</p>
<h3><a name="extension__dada_stats_pl">Extension: dada_stats.pl</a></h3>
<p>This extension is just weak. It is deprecated and will be removed in a future release.</p>
<p>
</p>
<h3><a name="extension__update_subscription_cgi">Extension: update_subscription.cgi</a></h3>
<p>This extension currently doesn't know about Subscriber Fields, so it's suggested that you NOT use this extension, if you use subscriber fields.</p>
<p>This extension will be removed from future versions of Dada Mail, if favor of folding similar functionality into the core of Dada Mail, or into a plugin for Dada Mail. Editing of subscription information by the subscriber should be a larger view to take when replacing this plugin and currently isn't something that can be done in Dada Mail.</p>
<p>
</p>
<hr />
<h1><a name="see_also">See Also</a></h1>
<p>
</p>
<h2><a name="the_upgrade_faq">The UPGRADE FAQ</a></h2>
<p><a href="UPGRADE_README.pod.html">UPGRADE_README.pod.html</a></p>
<p>
</p>
<h2><a name="technical_documentation">Technical Documentation</a></h2>
<p>The nerdy Perl API has changed drastically (and probably, for the better) in 3.0. Most likely, if you had a custom Perl program for Dada Mail 2.x that was using the API, it has now been broken.</p>
<p>
</p>
<h3><a name="subscriber_backend">Subscriber Backend</a></h3>
<p>For the Mailing List Subscriber API do consult:</p>
<p><a href="MailingList_Subscribers.pm.html">MailingList_Subscribers.pm.html</a></p>
<p>Which should be fairly complete.</p>
<p>
</p>
<h3><a name="templating_system">Templating System</a></h3>
<p>The HTML Screen and Email Template parts of Dada Mail all use the same system. See:</p>
<p><a href="Template_Widgets.pm.html#screen">Template_Widgets.pm.html#screen</a></p>
<p>And also:</p>
<p><a href="App_FormatMessages.pm.html#email_template">App_FormatMessages.pm.html#email_template</a></p>

</body>

</html>
